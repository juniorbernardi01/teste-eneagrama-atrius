<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Quem sou eu — Passo 3</title>

  <style>
    :root { --accent:#f07a00; --bg:#f6f7fb; --card:#fff; --text:#111; --muted:#666; --bd:#e7e7e7; }
    body{font-family:Arial,sans-serif;background:var(--bg);margin:0;color:var(--text);}
    .wrap{max-width:980px;margin:0 auto;padding:16px;}
    .card{background:var(--card);border-radius:16px;padding:16px;box-shadow:0 6px 22px rgba(0,0,0,.06);}
    h1{margin:0 0 8px;font-size:24px;}
    .muted{color:var(--muted);font-size:14px;line-height:1.4;margin:6px 0;}
    .step{display:flex;align-items:center;justify-content:space-between;gap:10px;margin:10px 0 6px;}
    .step b{font-size:14px;}
    .bar{height:10px;background:#e9e9e9;border-radius:999px;overflow:hidden;}
    .fill{height:100%;width:75%;background:var(--accent);border-radius:999px;}
    .q{border:1px solid var(--bd);border-radius:14px;padding:12px;margin:12px 0;}
    .qtitle{margin:0 0 10px;font-weight:700;font-size:14px;}
    .qtitle .n{display:inline-block;min-width:26px;color:#888;}
    .opt{display:block;border:1px solid var(--bd);border-radius:12px;padding:12px;margin:8px 0;background:#fafafa;cursor:pointer;}
    .opt input{margin-right:10px;transform:scale(1.1);}
    .actions{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap;}
    .btn{border:0;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer;text-decoration:none;display:inline-block;}
    .btn-outline{background:#fff;border:1px solid var(--bd);color:var(--text);}
    .btn-primary{background:var(--accent);color:#fff;flex:1;min-width:220px;text-align:center;}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <h1>Quem sou eu</h1>
      <p class="muted">Agora é escolha direta: A ou B. Confie na sua primeira impressão.</p>

      <div class="step">
        <b>Passo 3 de 4 — Escolhas diretas</b>
        <span class="muted">20 perguntas • A ou B</span>
      </div>
      <div class="bar"><div class="fill"></div></div>

      <div class="muted" style="margin-top:10px;">
        <b>Instruções:</b> Escolha <b>uma</b> opção por pergunta. Se as duas parecerem verdadeiras, marque a que mais se repete em você.
      </div>

      <form id="formP3">
        <div class="q">
          <div class="qtitle"><span class="n">1.</span>Eu prefiro:</div>
          <label class="opt"><input type="radio" name="P3_01" value="A"> Garantir segurança antes de agir</label>
          <label class="opt"><input type="radio" name="P3_01" value="B"> Agir rápido e ajustar depois</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">2.</span>Em decisões importantes:</div>
          <label class="opt"><input type="radio" name="P3_02" value="A"> Eu analiso bastante antes</label>
          <label class="opt"><input type="radio" name="P3_02" value="B"> Eu decido e sigo em frente</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">3.</span>Me sinto melhor quando:</div>
          <label class="opt"><input type="radio" name="P3_03" value="A"> Tenho padrões e faço o correto</label>
          <label class="opt"><input type="radio" name="P3_03" value="B"> Tenho liberdade e faço do meu jeito</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">4.</span>Em situações de conflito, eu:</div>
          <label class="opt"><input type="radio" name="P3_04" value="A"> Evito tensão e busco harmonia</label>
          <label class="opt"><input type="radio" name="P3_04" value="B"> Encaro e imponho limites</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">5.</span>Eu me reconheço mais como alguém:</div>
          <label class="opt"><input type="radio" name="P3_05" value="A"> Reservado(a) e observador(a)</label>
          <label class="opt"><input type="radio" name="P3_05" value="B"> Comunicativo(a) e orientado(a) a impacto</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">6.</span>Eu tendo mais a:</div>
          <label class="opt"><input type="radio" name="P3_06" value="A"> Ser cauteloso(a) com riscos</label>
          <label class="opt"><input type="radio" name="P3_06" value="B"> Buscar novas possibilidades</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">7.</span>Eu me incomodo mais com:</div>
          <label class="opt"><input type="radio" name="P3_07" value="A"> Falta de cuidado e correção</label>
          <label class="opt"><input type="radio" name="P3_07" value="B"> Falta de resultado e progresso</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">8.</span>Eu prefiro:</div>
          <label class="opt"><input type="radio" name="P3_08" value="A"> Estabilidade e tranquilidade</label>
          <label class="opt"><input type="radio" name="P3_08" value="B"> Intensidade e profundidade</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">9.</span>Quando algo aperta, eu:</div>
          <label class="opt"><input type="radio" name="P3_09" value="A"> Penso, me afasto e analiso</label>
          <label class="opt"><input type="radio" name="P3_09" value="B"> Vou pra ação e resolvo</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">10.</span>Eu me sinto mais confortável:</div>
          <label class="opt"><input type="radio" name="P3_10" value="A"> Sendo útil para as pessoas</label>
          <label class="opt"><input type="radio" name="P3_10" value="B"> Sendo reconhecido(a) pelo que faço</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">11.</span>Eu me considero mais:</div>
          <label class="opt"><input type="radio" name="P3_11" value="A"> Direto(a) e firme</label>
          <label class="opt"><input type="radio" name="P3_11" value="B"> Diplomático(a) e conciliador(a)</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">12.</span>Eu tenho mais tendência a:</div>
          <label class="opt"><input type="radio" name="P3_12" value="A"> Questionar e prever problemas</label>
          <label class="opt"><input type="radio" name="P3_12" value="B"> Manter otimismo e seguir leve</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">13.</span>Quando eu erro:</div>
          <label class="opt"><input type="radio" name="P3_13" value="A"> Eu me cobro bastante</label>
          <label class="opt"><input type="radio" name="P3_13" value="B"> Eu tento virar a página rápido</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">14.</span>Eu me movo mais por:</div>
          <label class="opt"><input type="radio" name="P3_14" value="A"> Fazer o correto</label>
          <label class="opt"><input type="radio" name="P3_14" value="B"> Ter liberdade e experiências</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">15.</span>Eu prefiro:</div>
          <label class="opt"><input type="radio" name="P3_15" value="A"> Ter controle e decidir</label>
          <label class="opt"><input type="radio" name="P3_15" value="B"> Deixar as coisas fluírem</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">16.</span>Eu me sinto mais eu quando:</div>
          <label class="opt"><input type="radio" name="P3_16" value="A"> Sou autêntico(a) e profundo(a)</label>
          <label class="opt"><input type="radio" name="P3_16" value="B"> Sou eficiente(a) e resolutivo(a)</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">17.</span>Eu costumo ser mais:</div>
          <label class="opt"><input type="radio" name="P3_17" value="A"> Disciplinado(a) e responsável</label>
          <label class="opt"><input type="radio" name="P3_17" value="B"> Espontâneo(a) e flexível</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">18.</span>Eu prefiro:</div>
          <label class="opt"><input type="radio" name="P3_18" value="A"> Pensar bem antes de falar</label>
          <label class="opt"><input type="radio" name="P3_18" value="B"> Falar direto o que precisa</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">19.</span>Eu me sinto melhor quando:</div>
          <label class="opt"><input type="radio" name="P3_19" value="A"> Tenho apoio / segurança</label>
          <label class="opt"><input type="radio" name="P3_19" value="B"> Tenho autonomia / liberdade</label>
        </div>

        <div class="q">
          <div class="qtitle"><span class="n">20.</span>Eu me reconheço mais como alguém:</div>
          <label class="opt"><input type="radio" name="P3_20" value="A"> Leal e cuidadoso(a) com o grupo</label>
          <label class="opt"><input type="radio" name="P3_20" value="B"> Independente e autossuficiente</label>
        </div>

        <div class="actions">
          <a class="btn btn-outline" href="./page2.html">Voltar</a>
          <button id="btnProximo" type="button" class="btn btn-primary">Continuar</button>
        </div>

      </form>
    </div>
  </div>

<script>
const STORAGE_KEY="respostas";

function getList(){ try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || []; } catch { return []; } }
function setList(l){ localStorage.setItem(STORAGE_KEY, JSON.stringify(l)); }

function upsert(pergunta, alternativa){
  const l = getList();
  const i = l.findIndex(x => x.pergunta === pergunta);
  if (i >= 0) l[i].alternativa = alternativa;
  else l.push({ pergunta, alternativa });
  setList(l);
}

function restore(){
  const l = getList();
  for (const r of l) {
    const el = document.querySelector(`input[name="${r.pergunta}"][value="${r.alternativa}"]`);
    if (el) el.checked = true;
  }
}

function validateAll(){
  const form = document.getElementById("formP3");
  const names = [...new Set([...form.querySelectorAll('input[type="radio"]')].map(i => i.name))];
  const missing = names.filter(n => !form.querySelector(`input[name="${n}"]:checked`));
  if (missing.length){
    alert("Responda todas as questões desta página antes de continuar.");
    const first = form.querySelector(`input[name="${missing[0]}"]`);
    if (first) first.scrollIntoView({ behavior:"smooth", block:"center" });
    return false;
  }
  return true;
}

document.addEventListener("DOMContentLoaded",()=>{
  restore();
  document.querySelectorAll('#formP3 input[type="radio"]').forEach(inp=>{
    inp.addEventListener("change",()=>upsert(inp.name, inp.value));
  });
  document.getElementById("btnProximo").addEventListener("click",()=>{
    if(!validateAll()) return;
    document.querySelectorAll('#formP3 input[type="radio"]:checked').forEach(inp=>upsert(inp.name, inp.value));
    window.location.href="./page4.html";
  });
});
</script>
</body>
</html>
